#ifndef COMMON_EXPLOIT_CONFIG
#define COMMON_EXPLOIT_CONFIG

// Shared for all "mh" exploits

#define DEACTIVATE_SYSCALL_ESTIMATION
#define DONT_HOOK_IF_FUNCTION_IS_IMPORTED

// Define to free additional modules (net modules, etc...) (e.g. patapon2 demo)
// Not all games need that
#define UNLOAD_ADDITIONAL_MODULES

//There is in general no good reason to comment that one
//It searches for additional syscalls.
#define LOAD_MODULES_FOR_SYSCALLS

// SceFontLibrary is loaded at the default addresses
#ifndef RELOC_MODULE_ADDR_1
#define RELOC_MODULE_ADDR_1 0x09240000
#define RELOC_MODULE_ADDR_2 0x09260000
#define RELOC_MODULE_ADDR_3 0x09280000
#define RELOC_MODULE_ADDR_4 0x092A0000
#endif

// Hooks (function overrides/replacements)
#define HOOK_AUDIOFUNCTIONS
#define HOOK_ERROR_sceUtilityCheckNetParam
#define HOOK_mersenne_twister_rdm
#define HOOK_Osk
#define HOOK_POWERFUNCTIONS

#define HOOK_sceAudioGetChannelRestLen_WITH_sceAudioGetChannelRestLength
#define HOOK_sceAudioOutput2GetRestSample_WITH_sceAudioGetChannelRestLength
#define HOOK_sceAudioOutputBlocking_WITH_sceAudioOutputPannedBlocking
#define HOOK_sceAudioOutputPanned_WITH_sceAudioOutputPannedBlocking
#define HOOK_sceAudioOutput_WITH_sceAudioOutputBlocking

#define HOOK_sceCtrlPeekBufferPositive_WITH_sceCtrlReadBufferPositive
#define HOOK_sceCtrlSetIdleCancelThreshold_WITH_dummy

#define HOOK_sceDisplayGetFrameBuf
#define HOOK_sceDisplayGetVcount_WITH_dummy
#define HOOK_sceDisplayWaitVblankStartCB_WITH_sceDisplayWaitVblankStart
#define HOOK_sceDisplayWaitVblankStart_WITH_sceKernelDelayThread


#define HOOK_sceImposeSetHomePopup_WITH_dummy
#define HOOK_sceKernelLoadModule
#define HOOK_sceKernelReferMsgPipeStatusWITH_dummy
#define HOOK_sceKernelReferThreadStatus_WITH_dummy
#define HOOK_sceKernelSelfStopUnloadModule_WITH_ModuleMgrForUser_8F2DF740

#define HOOK_sceKernelTotalFreeMemSize

#define HOOK_sceRtcGetCurrentClock_WITH_sceRtcGetCurrentClockLocalTime
#define HOOK_sceRtcGetCurrentTick

#define HOOK_UTILITY


// if sceIoCHDIR crashes, don't call it, at all
#define CHDIR_CRASH

//Vita: all files of HBL in one single folder, no subfolders
#define FLAT_FOLDER
#undef EBOOT_PATH
#define EBOOT_PATH HBL_ROOT"GAME/EBOOT.PBP"
#undef ELF_PATH
#define ELF_PATH HBL_ROOT"GAME/eboot.elf"
#undef HBL_PATH
#define HBL_PATH HBL_ROOT HBL_BIN
#undef LIB_PATH
#define LIB_PATH HBL_ROOT
#undef IMPORTS_PATH
#define IMPORTS_PATH HBL_ROOT

// FAT32 support
#define HARDCODED_IMPORTS_CONFIG
#define SMALL_FILENAMES

// Adds missing "." ".." entries on Vita
#define VITA_DIR_FIX

// Perfect syscall code: not available anymore in 6.60, so everything here is empty

// For which firmware versions is perfect syscall estimation available?
#define SYSCALLS_KNOWN_FOR_FIRMWARES {  }
#define SYSCALLS_KNOWN_FOR_GO_FIRMWARES { }

// Reference library for syscall estimation, all syscalls for this library must be known
#define SYSCALL_REFERENCE_LIBRARY "sceOpenPSID"

// Syscall offsets, must be defined for all firmwares in SYSCALLS_KNOWN_FOR_FIRMWARES
//#define SYSCALL_OFFSETS_500     {  }
//#define SYSCALL_OFFSETS_500_CFW {  }

//#define SYSCALL_OFFSETS_550     {  }
//#define SYSCALL_OFFSETS_550_CFW {  }

//#define SYSCALL_OFFSETS_570    {  }
//#define SYSCALL_OFFSETS_570_GO {  }

//#define SYSCALL_OFFSETS_600    {  }
//#define SYSCALL_OFFSETS_600_GO {  }


// Kernel memory dump offsets for the PSP GO
//#define SYSCALL_KERNEL_OFFSETS_620 {  }
//#define SYSCALL_KERNEL_OFFSETS_630 { } // Not available
//#define SYSCALL_KERNEL_OFFSETS_635 { } // Not available

#endif