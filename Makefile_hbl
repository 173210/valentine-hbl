TARGET = HBL

INCDIR	= include exploits/$(FOLDER)

CFLAGS	= -G1 -Os -Wall -Werror -mno-abicalls -fomit-frame-pointer -fno-pic -fno-strict-aliasing

ifdef NID_DEBUG
DEBUG = 1
CFLAGS += -DNID_DEBUG
endif
ifdef DEBUG
CFLAGS += -DDEBUG
endif

LIBDIR := libpspuser

LIBS := -lpspaudio -lpsprtc

OBJS = common/stubs/syscall.o common/stubs/tables.o \
	common/utils/cache.o common/utils/fnt.o common/utils/scr.o common/utils/string.o \
	common/memory.o common/prx.o common/utils.o \
	hbl/modmgr/elf.o hbl/modmgr/modmgr.o \
	hbl/stubs/hook.o hbl/stubs/md5.o hbl/stubs/resolve.o hbl/stubs/imports.o \
	hbl/exports.o hbl/eloader.o hbl/settings.o
ifdef DEBUG
OBJS += common/debug.o
endif

PSPSDK = $(shell psp-config --pspsdk-path)
include $(PSPSDK)/lib/build_prx.mak
